#:kivy 1.11.1
#:import font_path utils.font_path
#:import Window kivy.core.window.Window
#:import choice random.choice
#:set kaomojiChoices ["(;¬_¬)","(；￣Д￣）","<(．＿．)>","¯\_(ツ)_/¯"]
<CategoryLayout@MDStackLayout>:
    id : LibraryCategoryLayout
    adaptive_height : True
    padding : dp(10), dp(10)
    spacing : dp(10)
<KaomojiLabel@FloatLayout>:
    kaomoji : ""
    MDLabel:
        markup : True
        theme_text_color : "Hint"
        size_hint_x : 1
        text_size: self.size
        halign: 'center'
        valign: 'middle'
        font_name : str(font_path / "VLG.ttf")
        kaomoji_size : int(Window.height / 10)
        text : f"[size={self.kaomoji_size}][b]"+root.kaomoji+"[/b][/size]"

<LibraryCategoryDialogItem>:
    on_release: root.set_icon(check)

    CheckboxLeftWidget:
        id: check
        on_active : app.library.LibraryCategoryDialogItemCallback(root)
        group: "check" 

<DialogMDTextField>:
    spacing : "12dp"
    size_hint_y: None
    height: "50dp"
    MDTextField:
        id : textfield
        hint_text: root.hint_text
        mode : "rectangle"
        color_mode : "custom"
        line_color_focus: app.theme_cls.primary_dark

<AddItemDialog>:
    orientation: "vertical"
    spacing : "12dp"
    size_hint_y: None
    height: "100dp"

    MDTextField:
        id : textfield
        hint_text: root.hint_text
        mode : "rectangle"
        color_mode : "custom"
        line_color_focus: app.theme_cls.primary_dark

    MDDropDownItem:
        id: drop_item
        text: 'LN'
        on_release: app.library.typedialog.open()

<LibraryCategory>:
    id : tab_
    do_scroll_x: False
    effect_cls : "OpacityScrollEffect"
    scroll_type : ["bars", "content"]
    bar_pos_y : "right"    
    bar_color : app.theme_cls.primary_dark
    bar_inactive_color : app.theme_cls.primary_color
    bar_width : 10
    KaomojiLabel:
        kaomoji: choice(kaomojiChoices)