#:kivy 1.11.1
<panel_content>:
    size_hint: (2,None)
    height: self.minimum_height

    MDLabel:
        size_hint: (1,None)
        height: self.texture_size[1]
        text: root.text

<AboutTab@ScrollView+MDTabsBase>:
    text : "About"
    alias : "about"
    do_scroll_x: False
    effect_cls : "OpacityScrollEffect"
    scroll_type : ["bars", "content"]
    bar_pos_y : "right"    
    bar_color : app.theme_cls.primary_dark
    bar_inactive_color : app.theme_cls.primary_color
    bar_width : 10

<ChapterListTab@RecycleView+MDTabsBase>:
    viewclass : "ChapterListItem"
    text : "Chapter List"
    alias : "chapter_list_tab"
    do_scroll_x: False
    effect_cls : "OpacityScrollEffect"
    scroll_type : ["bars", "content"]
    bar_pos_y : "right"    
    bar_color : app.theme_cls.primary_dark
    bar_inactive_color : app.theme_cls.primary_color
    bar_width : 10
    bar_margin : -self.bar_width
    scrolling_event : None
    RecycleBoxLayout:
        id : chapter_list_layout 
        orientation : 'vertical'
        default_size: None, dp(50)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height

<ChapterListItem>:
    text: "List Item"
    secondary_text : " "
    _txt_left_pad : self._txt_right_pad 
    pos_hint: {"center_y": .5}
    IconRightWidget:
        icon: "download"

<LibraryItemScreen>:
    id : library_item_screen
    name : "library_item_screen"
    on_leave:
        app.root.remove_widget(self)
    MDTabs:
        id : tabs
        on_tab_switch : pass
        AboutTab:
            MDBoxLayout:
                adaptive_height : True
                padding : "25dp"
                spacing : dp(50)
                MDFloatingActionButton:
                    on_press : app.root.current = "main"
                    pos_hint : {'top':1,'right':0}
                    icon : "keyboard-backspace"
                    md_bg_color: app.theme_cls.primary_color
                MDBoxLayout:
                    id : about_box
                    orientation: "vertical"
                    pos_hint: {"top":1,"right":0}
                    adaptive_size : True
                    spacing : dp(30)
                    MDBoxLayout:
                        spacing : dp(20)
                        adaptive_size: True
                        MDCard:
                            id : card
                            elevation: 12
                            size_hint: None,None
                            size: "150dp", "200dp"
                            radius: [(15 / self.width) * 100, ]                    
                            FitImage:
                                id : item_image
                                source: root.item_instance.source
                                size_hint: None, None
                                size: card.size
                                radius : card.radius
                        MDBoxLayout:
                            orientation: "vertical"
                            size_hint : (None,0.9)
                            width : dp(130)
                            MDLabel:
                                text : "Author : "+ (str(root.item_instance.scraper.about["Author"]) if len(root.item_instance.scraper.about["Author"]) else "N/A")
                            MDLabel:
                                text : "Status : " + (str(root.item_instance.scraper.about["Status"]) if len(str(root.item_instance.scraper.about["Status"])) else "N/A")
                            MDLabel:
                                text : "Updated : "+ (str(root.item_instance.scraper.about["Updated"]) if len(str(root.item_instance.scraper.about["Updated"])) else "N/A")
                            MDLabel:
                                text : "Chapters : " + (str(root.item_instance.scraper.about["Chapters"]) if len(str(root.item_instance.scraper.about["Chapters"])) else "N/A")
        ChapterListTab:
            on_scroll_start:
                root.scrollbar_callback(self,scrolling=True)
            on_scroll_stop:
                root.scrollbar_callback(self,scrolling=False)

        MDFloatingActionButtonSpeedDial:
            id : FloatingDial
            data : {"book-play": "Resume", "update": "Update"}
            callback : root.FloatingActionButton_callback
            icon : "play"